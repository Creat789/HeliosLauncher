version: 2.1

jobs:
  build:
    macos:
      xcode: "14.0.0"  # Utilisez une version d’Xcode disponible
    resource_class: macos.x86.medium  # Classe de ressource compatible
    steps:
      - checkout

      - run:
          name: Installer Node.js
          command: |
            if ! command -v node &> /dev/null; then
              brew install node
            fi
            node -v
            npm -v

      - run:
          name: Installer les dépendances
          command: npm install

      - run:
          name: Compiler le projet
          command: npm run build  # Modifiez selon votre commande de build

workflows:
  version: 2
  build-and-test:
    jobs:
      - build
